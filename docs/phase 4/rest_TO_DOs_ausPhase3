3. Offene Punkte fÃ¼r Phase 4 (Umsetzung notwendig â€“ direkt als To-Dos)

Diese Punkte stammen aus realen Tests und mÃ¼ssen im nÃ¤chsten Schritt umgesetzt werden:


ğŸ”§ 3.1 Appointment-Flow verbessern

Reihenfolge:

Ã–ffnungszeiten prÃ¼fen

Dann Service abfragen

Verhindert falsche Dialoge wie:
â€Welchen Service?â€œ obwohl der Laden geschlossen ist.


ğŸ§  3.2 GPT-Receptionist â€“ Feinheiten

Verbesserungen:

NatÃ¼rlichere BegrÃ¼ÃŸung und Verabschiedung

Aufleg-Logik implementieren

Loop verhindern (â€Kann ich noch etwas tun?â€œ wiederholt)

Besserer Umgang mit unklaren Whisper-Ergebnissen
â†’ â€Entschuldigung, das habe ich nicht verstanden.â€œ


ğŸ•’ 3.3 Zeit im Dashboard (UTC â†’ Lokal)

Aktuell zeigt Supabase UTC an.
Im Dashboard z.B.:

13:00 UTC â†’ 14:00 lokal

Fix:

const formatDateTime = (iso: string) =>
  new Date(iso).toLocaleString("de-DE", {
    timeZone: "Europe/Berlin",
    hour: "2-digit",
    minute: "2-digit",
    day: "2-digit",
    month: "2-digit",
    year: "numeric",
  });


ğŸš« 3.4 Staff-Funktion optional machen

FÃ¼r das MVP:

Staff ist optional

Wenn Staff aktiv â†’ verwende Standard-Ã–ffnungszeiten

Empfehlung fÃ¼r Kunden:
â€Wenn ein Mitarbeiter nicht arbeitet â†’ im Google Calendar als occupied blockieren.â€œ

Echte SchichtplÃ¤ne kommen spÃ¤ter.


ğŸ§¹ 3.5 Call-Error Handling

Wenn GPT/TTS abstÃ¼rzt:

Statt Loop oder Stille:
â†’ â€Es ist ein Fehler aufgetreten, bitte versuchen Sie es spÃ¤ter erneut.â€œ


ğŸ”’ 3.6 DSGVO / Rechtliches (Phase 4 UI)

DatenschutzerklÃ¤rung

Impressum

Audio-Hinweis beim Call (â€Dieser Anruf wird verarbeitetâ€¦â€œ)

AGB


4. Dinge fÃ¼r spÃ¤ter (MVP, vor Launch, fÃ¼r Telefon-Testphase)

Diese Punkte gehÃ¶ren in ein eigenes â€œTelefon-Testingâ€-Ticket:


ğŸ“ 4.1 Twilio-Nummer â†’ client_id Mapping

Notwendig, damit echte Anrufer (NICHT eingeloggt) funktionieren.

Schritt 1:

Neue Tabelle:

phone_numbers
- twilio_number
- client_id

Schritt 2:

In /api/call/handle:

â€Toâ€œ aus Twilio lesen

client_id anhand der Nummer bestimmen

client_id an die GPT/Appointment/Handoff Routen weitergeben

Erst dann funktionieren reale Calls ohne Login.


ğŸ“… 4.2 Echter Google Test & Realer Anruf

Sobald deployt & Domain live:

Webhook auf echte Domain

Mit deutscher Twilio-Nummer testen

Kalender-Erstellung live prÃ¼fen